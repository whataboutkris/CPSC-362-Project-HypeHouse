{% extends 'ui/base.html' %}
{% block title %}HypeHouse{% endblock %}
{% block content %}

<sl-tab-group>
    <sl-tab slot="nav" panel="Listings">Listings</sl-tab>
    <sl-tab slot="nav" panel="Bookings">Bookings</sl-tab>

    <!-- Listings Panel -->
    <sl-tab-panel name="Listings">
    {% for listing in listings %}
      <sl-card class="House-Overview">
        <img
          src="{{ image_list[loop.index0 % image_list | length] }}"
          alt="Rental Image"
          style="width: 100%; height: 150px; display: block; object-fit: cover;"
        />
        <strong>{{ listing.description }}</strong><br />
        <small>${{ listing.price }} per night</small>

        <div slot="footer">
          <a href="/booking/{{ listing.id }}" target="_blank">
            <sl-button variant="primary" pill>Book</sl-button>
          </a>
          <sl-rating value="{{ listing.review }}" readonly></sl-rating>
        </div>
      </sl-card>
    {% endfor %}
  </sl-tab-panel>

    <!-- Bookings Panel -->
    <sl-tab-panel name="Bookings">
        <h3>Current Booking</h3>
        <sl-card class="House-Overview">
            <img 
                src="https://www.houseplans.net/news/wp-content/uploads/2023/07/57260-768.jpeg"
                alt="a house just to vibe in" />
            <strong>Home</strong><br />
            April 20 – April 22<br />
            <small>2 guests • Ocean View</small>

            <div slot="footer">
                <sl-rating value="4.5" readonly></sl-rating>
            </div>
        </sl-card>
    </sl-tab-panel>
</sl-tab-group>

<!-- Shared Styling -->
<style>
    .House-Overview {
        max-width: 200px;
        max-height: 400px;
        color: var(--sl-color-neutral-500);
    }

    img[slot="img"] {
        width: 100%;
        height: 150px;
        display: block;
        object-fit: cover;
        flex-shrink: 0;
    }

    .card-overview [slot='footer'] {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

</style>

  

{% endblock %}